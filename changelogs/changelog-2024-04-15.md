## LandSandBoat Changelog (2024-04-15)
- [sql] fix aht urhgan moghouse moogle appears in fountain [[#5429](https://github.com/LandSandBoat/server/pull/5429), [patch](https://github.com/LandSandBoat/server/pull/5429.patch)] (ampitere)
- [lua] fix players appear in aht urhgan fountain during ship arrival cutscenes [[#5427](https://github.com/LandSandBoat/server/pull/5427), [patch](https://github.com/LandSandBoat/server/pull/5427.patch)] (ampitere)
- Cpp: disable c4263 with pragma disable [[#5426](https://github.com/LandSandBoat/server/pull/5426), [patch](https://github.com/LandSandBoat/server/pull/5426.patch)] (zach2good)
- [world] update influence in xi_world to not reset values on gain [[#5425](https://github.com/LandSandBoat/server/pull/5425), [patch](https://github.com/LandSandBoat/server/pull/5425.patch)] (MowFord)
- Build: add /wd4263 (for mariadb-connector-cpp) [[#5423](https://github.com/LandSandBoat/server/pull/5423), [patch](https://github.com/LandSandBoat/server/pull/5423.patch)] (zach2good)
- [sql] marvelous cheer is a cosmetic item only [[#5420](https://github.com/LandSandBoat/server/pull/5420), [patch](https://github.com/LandSandBoat/server/pull/5420.patch)] (MowFord)
- [sql] fix naji's loop missing mods [[#5418](https://github.com/LandSandBoat/server/pull/5418), [patch](https://github.com/LandSandBoat/server/pull/5418.patch)] (ampitere)
- Db: add preparedstmtwithrowcount [[#5417](https://github.com/LandSandBoat/server/pull/5417), [patch](https://github.com/LandSandBoat/server/pull/5417.patch)] (zach2good)
- Nm: draketrader zlodgodd (la vaule [s]) [[#5415](https://github.com/LandSandBoat/server/pull/5415), [patch](https://github.com/LandSandBoat/server/pull/5415.patch)] (CatsEyeXI)
- [fix] replace already-in-use mod ids with non used ones [[#5414](https://github.com/LandSandBoat/server/pull/5414), [patch](https://github.com/LandSandBoat/server/pull/5414.patch)] (Xaver-DaRed)
- Correct several npc content tags for cop npcs [[#5412](https://github.com/LandSandBoat/server/pull/5412), [patch](https://github.com/LandSandBoat/server/pull/5412.patch)] (Grahf0085)
- Db: fix index counting and passing in preparedstmt [[#5410](https://github.com/LandSandBoat/server/pull/5410), [patch](https://github.com/LandSandBoat/server/pull/5410.patch)] (zach2good)
- Fix extractfromblob overwriting initialized values [[#5408](https://github.com/LandSandBoat/server/pull/5408), [patch](https://github.com/LandSandBoat/server/pull/5408.patch)] (cocosolos)
- [sql] fix deae gratia missing drain effect [[#5407](https://github.com/LandSandBoat/server/pull/5407), [patch](https://github.com/LandSandBoat/server/pull/5407.patch)] (ampitere)
- [core] random deal functionality [[#5406](https://github.com/LandSandBoat/server/pull/5406), [patch](https://github.com/LandSandBoat/server/pull/5406.patch)] (MowFord)
- [cpp] load bazaar message from the db [[#5405](https://github.com/LandSandBoat/server/pull/5405), [patch](https://github.com/LandSandBoat/server/pull/5405.patch)] (MowFord)
- [sql] fix nightfall missing terror additional effect [[#5401](https://github.com/LandSandBoat/server/pull/5401), [patch](https://github.com/LandSandBoat/server/pull/5401.patch)] (ampitere)
- [cpp] delivery box send item fix [[#5400](https://github.com/LandSandBoat/server/pull/5400), [patch](https://github.com/LandSandBoat/server/pull/5400.patch)] (MowFord)
- [sql] kupo shield should be synth skills only [[#5398](https://github.com/LandSandBoat/server/pull/5398), [patch](https://github.com/LandSandBoat/server/pull/5398.patch)] (MowFord)
- Fix mob being used as npc from getfirstid use [[#5397](https://github.com/LandSandBoat/server/pull/5397), [patch](https://github.com/LandSandBoat/server/pull/5397.patch)] (cocosolos)
- [sql] correct sliced moat carp bait affinity [[#5394](https://github.com/LandSandBoat/server/pull/5394), [patch](https://github.com/LandSandBoat/server/pull/5394.patch)] (MowFord)
- Sch indescript markings - populate dynamic zone ids and remove weather requirements [[#5393](https://github.com/LandSandBoat/server/pull/5393), [patch](https://github.com/LandSandBoat/server/pull/5393.patch)] (MowFord)
- [sql] fix sneaking boots missing enhance stealth mod [[#5392](https://github.com/LandSandBoat/server/pull/5392), [patch](https://github.com/LandSandBoat/server/pull/5392.patch)] (ampitere)
- [core] data_loader.cpp fixes [[#5390](https://github.com/LandSandBoat/server/pull/5390), [patch](https://github.com/LandSandBoat/server/pull/5390.patch)] (UmeboshiXI)
- Fix crafting skill level parameter for image support npcs [[#5389](https://github.com/LandSandBoat/server/pull/5389), [patch](https://github.com/LandSandBoat/server/pull/5389.patch)] (claywar)
- Dec 2004 cop npcs [[#5386](https://github.com/LandSandBoat/server/pull/5386), [patch](https://github.com/LandSandBoat/server/pull/5386.patch)] (Grahf0085)
- [core] set unarmed weapons on char load if main slot is null [[#5384](https://github.com/LandSandBoat/server/pull/5384), [patch](https://github.com/LandSandBoat/server/pull/5384.patch)] (WinterSolstice8)
- [sql] erle nm [[#5382](https://github.com/LandSandBoat/server/pull/5382), [patch](https://github.com/LandSandBoat/server/pull/5382.patch)] (MowFord)
- [client] update version for april 2024 update 2 [[#5379](https://github.com/LandSandBoat/server/pull/5379), [patch](https://github.com/LandSandBoat/server/pull/5379.patch)] (claywar)
- Fix afdeen content tag [[#5377](https://github.com/LandSandBoat/server/pull/5377), [patch](https://github.com/LandSandBoat/server/pull/5377.patch)] (Grahf0085)
- [cpp] fix fisherman's smock missing bonuses [[#5376](https://github.com/LandSandBoat/server/pull/5376), [patch](https://github.com/LandSandBoat/server/pull/5376.patch)] (ampitere)
- [sql] various cosmetic armors [[#5375](https://github.com/LandSandBoat/server/pull/5375), [patch](https://github.com/LandSandBoat/server/pull/5375.patch)] (UmeboshiXI)
- [lua]reward proper alignment of if statement [[#5372](https://github.com/LandSandBoat/server/pull/5372), [patch](https://github.com/LandSandBoat/server/pull/5372.patch)] (hooksta4)
- Use getfirstid for treasure coffers and chests [[#5371](https://github.com/LandSandBoat/server/pull/5371), [patch](https://github.com/LandSandBoat/server/pull/5371.patch)] (claywar)
- [cpp] ensure proper mapping from db to player rank array [[#5370](https://github.com/LandSandBoat/server/pull/5370), [patch](https://github.com/LandSandBoat/server/pull/5370.patch)] (MowFord)
- [sql] fix invalid position entry for jormungand [[#5369](https://github.com/LandSandBoat/server/pull/5369), [patch](https://github.com/LandSandBoat/server/pull/5369.patch)] (Xaver-DaRed)
- [quest] against all odds - door house charvar has incorrect casing [[#5368](https://github.com/LandSandBoat/server/pull/5368), [patch](https://github.com/LandSandBoat/server/pull/5368.patch)] (ampitere)
- [sql] add track pants +1 mod [[#5367](https://github.com/LandSandBoat/server/pull/5367), [patch](https://github.com/LandSandBoat/server/pull/5367.patch)] (ampitere)
- Update objective packet [[#5366](https://github.com/LandSandBoat/server/pull/5366), [patch](https://github.com/LandSandBoat/server/pull/5366.patch)] (cocosolos)
- Fix join type in api query [[#5365](https://github.com/LandSandBoat/server/pull/5365), [patch](https://github.com/LandSandBoat/server/pull/5365.patch)] (cocosolos)
- [quest] fix wild card soft lock [[#5364](https://github.com/LandSandBoat/server/pull/5364), [patch](https://github.com/LandSandBoat/server/pull/5364.patch)] (ampitere)
- Correct sacrosanctity enum [[#5362](https://github.com/LandSandBoat/server/pull/5362), [patch](https://github.com/LandSandBoat/server/pull/5362.patch)] (LacunaXI)
- Db: add tryping logic to new db connection [[#5360](https://github.com/LandSandBoat/server/pull/5360), [patch](https://github.com/LandSandBoat/server/pull/5360.patch)] (zach2good)
- [sql] remove dispelable flag from reraise [[#5359](https://github.com/LandSandBoat/server/pull/5359), [patch](https://github.com/LandSandBoat/server/pull/5359.patch)] (WinterSolstice8)
- [core] add null check for weapon in ccharstatspacket [[#5356](https://github.com/LandSandBoat/server/pull/5356), [patch](https://github.com/LandSandBoat/server/pull/5356.patch)] (WinterSolstice8)
- [core] remove ub with charming [[#5355](https://github.com/LandSandBoat/server/pull/5355), [patch](https://github.com/LandSandBoat/server/pull/5355.patch)] (WinterSolstice8)
- Db: rollback to uses of affectedrows [[#5353](https://github.com/LandSandBoat/server/pull/5353), [patch](https://github.com/LandSandBoat/server/pull/5353.patch)] (zach2good)
- [cpp/lua] ranged attack tweaks [[#5352](https://github.com/LandSandBoat/server/pull/5352), [patch](https://github.com/LandSandBoat/server/pull/5352.patch)] (MowFord)
- [lua] timeleft missing parameter for 2 instances [[#5350](https://github.com/LandSandBoat/server/pull/5350), [patch](https://github.com/LandSandBoat/server/pull/5350.patch)] (MowFord)
- Allow smn mobs without a defined pet to still cast [[#5349](https://github.com/LandSandBoat/server/pull/5349), [patch](https://github.com/LandSandBoat/server/pull/5349.patch)] (MowFord)
- [cpp] send appropriate attack % for both pdif function calls [[#5348](https://github.com/LandSandBoat/server/pull/5348), [patch](https://github.com/LandSandBoat/server/pull/5348.patch)] (MowFord)
- [sql] fix quick draw range [[#5345](https://github.com/LandSandBoat/server/pull/5345), [patch](https://github.com/LandSandBoat/server/pull/5345.patch)] (ampitere)
- [core] don't update destination in blob extraction if blob is null [[#5343](https://github.com/LandSandBoat/server/pull/5343), [patch](https://github.com/LandSandBoat/server/pull/5343.patch)] (WinterSolstice8)
- Ensure mobs don't turn during combat when inactive [[#5341](https://github.com/LandSandBoat/server/pull/5341), [patch](https://github.com/LandSandBoat/server/pull/5341.patch)] (MowFord)
- [chore] create job trait enum and use when appropiate [[#5338](https://github.com/LandSandBoat/server/pull/5338), [patch](https://github.com/LandSandBoat/server/pull/5338.patch)] (Xaver-DaRed)
- [lua] aura steal should be possible even on mob with steal items [[#5336](https://github.com/LandSandBoat/server/pull/5336), [patch](https://github.com/LandSandBoat/server/pull/5336.patch)] (MowFord)
- [lua]update npcutil.lua example for giveitem function [[#5334](https://github.com/LandSandBoat/server/pull/5334), [patch](https://github.com/LandSandBoat/server/pull/5334.patch)] (hooksta4)
- [lua]usable items now display count and item on use. [[#5332](https://github.com/LandSandBoat/server/pull/5332), [patch](https://github.com/LandSandBoat/server/pull/5332.patch)] (hooksta4)
- [sql] mhaura moogle visible underneath laughing bison [[#5331](https://github.com/LandSandBoat/server/pull/5331), [patch](https://github.com/LandSandBoat/server/pull/5331.patch)] (MowFord)
- [lua] dnc step accuracy (of behavior and acc) [[#5330](https://github.com/LandSandBoat/server/pull/5330), [patch](https://github.com/LandSandBoat/server/pull/5330.patch)] (MowFord)
- Db library upgrade article [[#93](https://github.com/LandSandBoat/lsb-wiki/pull/93), [patch](https://github.com/LandSandBoat/lsb-wiki/pull/93.patch)] (zach2good)
- [smn] correct fenrir animations & blood pact abilities [[#5328](https://github.com/LandSandBoat/server/pull/5328), [patch](https://github.com/LandSandBoat/server/pull/5328.patch)] (N3ckB3ard)
- [core] fix offhand damage ratio and attack reporting [[#5327](https://github.com/LandSandBoat/server/pull/5327), [patch](https://github.com/LandSandBoat/server/pull/5327.patch)] (TracentEden2)
- [cpp] range state exit listener [[#5321](https://github.com/LandSandBoat/server/pull/5321), [patch](https://github.com/LandSandBoat/server/pull/5321.patch)] (MowFord)
- [cpp] mobskill updates for conals, specifically ixion's rear kick [[#5320](https://github.com/LandSandBoat/server/pull/5320), [patch](https://github.com/LandSandBoat/server/pull/5320.patch)] (MowFord)
- [lua] building flourish is a percentage increase in attack [[#5317](https://github.com/LandSandBoat/server/pull/5317), [patch](https://github.com/LandSandBoat/server/pull/5317.patch)] (MowFord)
- [core] [lua] fix mobskill tp return issue for aoe skills [[#5315](https://github.com/LandSandBoat/server/pull/5315), [patch](https://github.com/LandSandBoat/server/pull/5315.patch)] (TracentEden2)
- [lua] add assault loot for shooting down the baron [[#5312](https://github.com/LandSandBoat/server/pull/5312), [patch](https://github.com/LandSandBoat/server/pull/5312.patch)] (jamesbradleym)
- [core] prevent sending bazaar browsing packets for hidden gms [[#5297](https://github.com/LandSandBoat/server/pull/5297), [patch](https://github.com/LandSandBoat/server/pull/5297.patch)] (TracentEden2)
- [sql]update recast of mp_drainkiss [[#5296](https://github.com/LandSandBoat/server/pull/5296), [patch](https://github.com/LandSandBoat/server/pull/5296.patch)] (MowFord)
- [core] prioritize zone wide treasure pool even when solo [[#5295](https://github.com/LandSandBoat/server/pull/5295), [patch](https://github.com/LandSandBoat/server/pull/5295.patch)] (TracentEden2)
- [update] zones 231 onwards [[#5287](https://github.com/LandSandBoat/server/pull/5287), [patch](https://github.com/LandSandBoat/server/pull/5287.patch)] (Xaver-DaRed)
- Stratagem time left correction at low levels [[#5286](https://github.com/LandSandBoat/server/pull/5286), [patch](https://github.com/LandSandBoat/server/pull/5286.patch)] (MowFord)
- [lua] [combat] pass actor tp directly to critical functions [[#5283](https://github.com/LandSandBoat/server/pull/5283), [patch](https://github.com/LandSandBoat/server/pull/5283.patch)] (Xaver-DaRed)
- [cpp] ensure player smn avatars assist from any range [[#5272](https://github.com/LandSandBoat/server/pull/5272), [patch](https://github.com/LandSandBoat/server/pull/5272.patch)] (MowFord)
- [client] march & april 2024 version update [[#5267](https://github.com/LandSandBoat/server/pull/5267), [patch](https://github.com/LandSandBoat/server/pull/5267.patch)] (claywar)
- Fix one hour recast reduction from jp gift [[#5264](https://github.com/LandSandBoat/server/pull/5264), [patch](https://github.com/LandSandBoat/server/pull/5264.patch)] (AppleCronch)
- [core] remove "invisible" status effect when using items [[#5254](https://github.com/LandSandBoat/server/pull/5254), [patch](https://github.com/LandSandBoat/server/pull/5254.patch)] (TracentEden2)
- Fix ph entries for antican magister [[#5225](https://github.com/LandSandBoat/server/pull/5225), [patch](https://github.com/LandSandBoat/server/pull/5225.patch)] (CatsEyeXI)
- [core] fix scaling of range critical hit rate from agi [[#5218](https://github.com/LandSandBoat/server/pull/5218), [patch](https://github.com/LandSandBoat/server/pull/5218.patch)] (TracentEden2)
- [cpp] exclude dynamic entities from query cache [[#5195](https://github.com/LandSandBoat/server/pull/5195), [patch](https://github.com/LandSandBoat/server/pull/5195.patch)] (MowFord)
- [core, sql] refactor to use mariadb-connector-cpp and introduce new db namespace [[#4601](https://github.com/LandSandBoat/server/pull/4601), [patch](https://github.com/LandSandBoat/server/pull/4601.patch)] (zach2good)
